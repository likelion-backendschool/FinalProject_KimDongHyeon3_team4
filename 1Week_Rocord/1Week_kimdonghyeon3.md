# 필수과제
- [x] 회원가입
- [x] 회원정보 수정
- [x] 로그인
- [x] 로그아웃
- [x] 아이디찾기
- [x] 글 작성
- [x] 글 수정
- [x] 글 리스트
- [x] 글 삭제

# 추가과제
- [ ] 비번찾기
- [ ] 상품 등록
- [ ] 상품 수정
- [ ] 상푸 리스트
- [ ] 상품 상세페이지


# 접근방법

프로젝트를 접근하기전에 큰 틀을 잡아야한다. 전체틀과 어떻게 접근하여 해결하였는지를 기록한다.

 - **프로젝트 설계**

프로젝트는 크게 마켓 앱과 리더 앱으로 나뉘어 제작된다. 이때 리더앱의 경우 강사님이 제공하는 React를 기반으로 작성하니, 남겨두고
현재 내가 집중해야 되는 것은 마켓 앱임을 알 수 있다.

프로젝트를 설계한다기 보다는 이미 주어진 요구사항을 어떻게 활용해야할지 고려해야 했다.
이번주에 이루어야할 기능은 9가지의 기능이다. 사실 이전 강의에서 부터 배워왔던 내용이긴 하지만, 많은 내용을 다루었던 만큼
정확한 구현법은 생각나지 않지만, 어떤 기능을 어떤 프로젝트에서 진행했는지 정도는 기억이 난다. 

현재 주어진 기능을 살펴보면, 기본적으로 필수과제를 우선적으로, 또한 요구사항 분석을 우선적으로 고려해서 구현해야한다.
(추후 리팩토링을 통해서 나의 방식대로 고치기 전에 초안을 작성한다는 느낌으로 주어진 틀을 잘 활용해야한다.)

결론적으로 아래의 프로세스대로 프로젝트를 진행하려 한다.

1. Git Repository에 주어진 FinalProject대로 파일 구조 정리
2. 해당 Git을 Clone 후 Module로 Spring을 추가
3. 개발용 설정 (application.yml) + DB연동
3. Spring의 Servlet 기반 기능을 활용하여 "회원가입"기능 구현
4. Spring Security를 활용한 "로그인, 로그아웃" 기능 구현
5. 로그인 사용자 정보 == "회원정보 수정" 기능 구현
6. "아이디찾기"기능 구현
7. 글 관련 기능은 "리스트 -> 작성 -> 삭제 -> 수정"순 구현

대략적인 틀을 이렇게 잡고 해당 기능들을 구현하면서, 이전에 강의에서 배웠던 내용들을 주로 참고하면서 진행하였다.

1. **Git Repository에 주어진 FinalProject대로 파일 구조 정리**
2. **해당 Git을 Clone 후 Module로 Spring을 추가**

_**_목표 : 하나의 Repoistory에 여러 Spirng파일을 넣어서 Clone을 통해 받을 경우 원하는 Spring을 실행할 수 있어야한다._**_

Git의 하나의 Repository에 여러 Spirng 구조를 넣으려면 Module을 추가하는 형식으로 해주어야한다.
_기존의 정보들을 찾아보면, 내가 원하는 방식의 구조가 아니였다. (why? 주기적인 Commit정보와, pr등 의 정보를 기록해야하기 때문이다.)
따라서 이러한 문제를 해결하기 위해 찾은 방식은 Module 추가 방식이다.

Setting -> ProjectStructure -> Module 해당 위치를 들어가서 Module을 추가하여 사용하면된다. (무료버전은 되는지 모름)_


3. **개발용 설정 (application.yml) + DB연동**

**목표 : 추후 Test와 Prod를 추가하기 위해 application-dev.yml을 개발용으로 만들고, 개인적인정보를 보호하기 위해 secret.yml을 하나 만들어 gitignore에 추가하자**

사실 해당 단계에서 많은 생각이 있었다. yml을 동작하면 요구사항을 좀만 살펴봐도 DB정보와 Email정보를 넣어햐 하는데, 이러한 정보는 
private이더라도 git에 올리는 것은 꺼려지기 때문이다. 따라서 application-sercret1.yml 파일을 하나 만들어 git에는 올리지 않았다.

(만약 Email 기능을 활용하고 싶으면, 해당 yml을 추가해 아래 로직을 넣어주자)
```aidl
spring:
  mail:
    host: smtp.gmail.com
    port: 587
    username: test@google.com
    password: 1234
    properties:
      mail:
        smtp:
          auth: true
          starttls:
            enable: true
```
해당 설정은 Google에서 제공하는 stmp 규약으로 Spring에서 메일을 보낼 수 있도록 설정하는 것이다. (기본적으로 해당 계정에서 보안설정을 바꾸어 줘야한다.)
(만약 2단 보안이라면, password에 로그인 password가 아닌 google에서 제공하는 다른 비밀번호를 활용해야한다. => 검색해보자)


3. **Spring의 Servlet 기반 기능을 활용하여 "회원가입"기능 구현**

**목표 : 요구사항명세에 맞게 정보를 입력하면 DB에 해당 데이터가 적제된다. (PASSOWRD는 ENCODING하여 저장)**

본격적인 구현을 하면서 가장 고심된 부분은 타임리프로 View를 구성하는 일이었다. 해당 View를 내 방식대로 구현하기에는 너무 많은 시간이 소요될 거 같다고
판단하여, 이전 강의에서 제작한 "음반 사이트"와 "SBB"의 View를 많이 활용하여 구성하였다. 그 외에 특별히 "회원가입"기능에서는 특별히 어려운 점이 없었다.

음반 사이트 : https://github.com/jhs512/sb_exam_2022_09_05__app10

Spring Boot BASHBOARD : https://github.com/kimdonghyeon3/SpringBoot_bashboard

4. **Spring Security를 활용한 "로그인, 로그아웃" 기능 구현**

**목표 : Security를 활용하여 로그인, 로그아웃 구현 (Controller최대한 줄여주자)**

Security로 로그인, 로그아웃 구현은 가장 처음에 접할 수 있는 기법이다. 이 부분에서는 정말 많은 정보들이 있고, 다양한 방식으로 구현되어 있음을 알 수 있다.
이 부분의 경우 우리가 진행해왔던 여러 프로젝트들도 모두 로직 구현 방식이 다양하다. 가장 최신의 트랜드에 맞는 람다식으로 구현을 하였으며, 해당 방식은
내가 가장 편리한 방식을 하나 정하여, 앞으로 계속 사용하면 될듯하다.

 더 나아가, User나 UserDetails와 같이 Security에서 제공하는 User와 UserService와 같은 로직의 이해가 반듯이 필요하다. 이번 로그인, 로그아웃을 구현하면서
해당 내용을 다시한 번 되짚어볼 수 있었다.

5. **로그인 사용자 정보 == "회원정보 수정" 기능 구현**

**목표 : 로그인된 사용자 정보를 띄우고, 작가명/비밀번호 수정 버튼을 만들어 수정이 가능하도록 구현한다.**

해당 기능은 어렵지 않게 바로 구현할 수 있다. 한가지 고려해야될 점은 "비밀번호 수정"을 할 때 PasswordEncoder를 꼭 활용해줘야 한다는 점이다.

6. **"아이디찾기"기능 구현**

**목표 : 아이디 찾기를 통해 아이디를 찾았으면 alert이나 innerhtml을 활용해 아이디 정보를 띄어주자**

아이디 찾기 기능에서 가장 고심했던 것은 Popup으로 만들지 페이지로 만들지 였다. Popup으로 만들시 따로 요구사항명세서에
제시되어있는 Get요청을 굳이 사용할 필요가 없다고 판단되어, 요구사항 명세서에 맞게 페이지로 구현하였다.

7. **글 관련 기능은 "리스트 -> 작성 -> 삭제 -> 수정"순 구현**

**목표 : 글과 관련된 기능은 되도록 한번에 구현하자.**

사실 이부분도 크게 어렵지 않았지만, HashTag기능을 좀 더 고도화 시키기 위해 아래 라이브러리를 활용하였다.

https://github.com/yairEO/tagify  <br/>
https://yaireo.github.io/tagify/

해쉬태그 참고 링크 : https://github.com/jhs512/sb_exam_2022_09_05__app10




# 특이사항

 - **SpringSecurity<br/>**
Spring Security를 활용하면서 권한에 따른 URL 설정을 해야하지만, 현재 로직에서 모든 권한이 허용되어 있는 현상이 나타난다.
기본적으로, /member/join이나 /member/findUsername과 같은 URL접근을 허용하지 않았는데, 자연스럽게 들어가지는 것을 알 수 있다.
이러한 문제점에 대한 고찰이 필요하다.


 - **Test <br/>**
3일안에 해당 내용을 빠르게 구현하려다 보니 시간관계상 테스트케이스를 작성하는 부분을 생략하였다. 대부분의 프로젝트는 많은 요구사항 변경과
검증을 위해서 테스트케이스를 지향하고 있고, 또한 프로젝트의 완성도를 높이기 위해서는 필요하다. 추후 테스트 케이스를 구현이 필요하다.


 - **Popup (ID/PW 찾기) <br/>**
기존에 주어진 요구사항분석에 맞게 작성하기 위해서 페이지를 만들어 ID/PW 찾기 기능을 구현하였다. 강사님의 Q&A를 통해 이러한 요구사항은
개인에 맞게 변경이 가능하다고 한다. 이에 따라 통신을 위해 사용되는 자원을 줄이기 위해서 PopUp형식으로 변경할 예정이다.


 - **HashTag (Tagify) <br/>**
해시태그 기능은 여러 서비스에서 많이 사용된다. 이전에 FileUpLoad 강의시간에 배운 HashTag 활용에 더하여, View를 사용자 친화적으로 변경하였다.
그리 어렵지 않게 Tagify에서 제공하는 Git Docs를 활용하면 구현할 수 있다. (많이 사용될거 같으니 기록해 두자)


 - **DB 고찰 <br/>**
현재 DB ERD를 살펴보면 PostKeyword테이블이 존재한다. 이는 Product와 PostHashTag테이블의 연관테이블로 사용되고 있다. 그런데 로직을 구현하다
보면, PostService, KeywordService, HashTagService들이 복합적으로 동작하게 되는 것을 알 수 있다. 이러한 경우 Post대신 Article이라는
Entity를 활용하게 된다면, 많은 로직 수정이 필요해 보인다. 적절한 관심사 분리를 위해서, 불필요한 연관 관계는 제거하는 방식을 고려해봐야한다.